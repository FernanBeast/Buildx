.nh
.TH "DOCKER-BUILDX-IMAGETOOLS-CREATE" "1" "Mar 2024" "" ""

.SH NAME
.PP
docker-buildx-imagetools-create - Create a new image based on source images


.SH SYNOPSIS
.PP
\fBdocker buildx imagetools create [OPTIONS] [SOURCE] [SOURCE...]\fP


.SH DESCRIPTION
.PP
Create a new manifest list based on source manifests. The source manifests can
be manifest lists or single platform distribution manifests and must already
exist in the registry where the new manifest is created. If only one source is
specified, create performs a carbon copy.


.SH OPTIONS
.PP
\fB--annotation\fP=[]
	Add annotation to the image

.PP
\fB--append\fP[=false]
	Append to existing manifest

.PP
\fB--dry-run\fP[=false]
	Show final image instead of pushing

.PP
\fB-f\fP, \fB--file\fP=[]
	Read source descriptor from file

.PP
\fB-h\fP, \fB--help\fP[=false]
	help for create

.PP
\fB--progress\fP="auto"
	Set type of progress output ("auto", "plain", "tty"). Use plain to show container output

.PP
\fB-t\fP, \fB--tag\fP=[]
	Set reference for new image


.SH OPTIONS INHERITED FROM PARENT COMMANDS
.PP
\fB--builder\fP=""
	Override the configured builder instance


.SH EXAMPLE
.EX
### Add annotations to an image (--annotation) {#annotation}

The `--annotation` flag lets you add annotations the image index, manifest,
and descriptors when creating a new image.

The following command creates a `foo/bar:latest` image with the
`org.opencontainers.image.authors` annotation on the image index.

```console
$ docker buildx imagetools create \\
  --annotation "index:org.opencontainers.image.authors=dvdksn" \\
  --tag foo/bar:latest \\
  foo/bar:alpha foo/bar:beta foo/bar:gamma

.EE

.PP
.RS

.PP
\fBNote\fP

.PP
The \fBimagetools create\fR command supports adding annotations to the image
index and descriptor, using the following type prefixes:

.RS
.IP \(bu 2
\fBindex:\fR
.IP \(bu 2
\fBmanifest-descriptor:\fR

.RE

.PP
It doesn't support annotating manifests or OCI layouts.

.RE

.PP
For more information about annotations, see
Annotations
\[la]/build/building/annotations/\[ra]\&.

.SS Append new sources to an existing manifest list (--append) {#append}
.PP
Use the \fB--append\fR flag to append the new sources to an existing manifest list
in the destination.

.SS Override the configured builder instance (--builder) {#builder}
.PP
Same as 
\[la]/reference/cli/docker/buildx/#builder\[ra]\&.

.SS Show final image instead of pushing (--dry-run) {#dry-run}
.PP
Use the \fB--dry-run\fR flag to not push the image, just show it.

.SS Read source descriptor from a file (-f, --file) {#file}
.EX
-f FILE or --file FILE

.EE

.PP
Reads source from files. A source can be a manifest digest, manifest reference,
or a JSON of OCI descriptor object.

.PP
In order to define annotations or additional platform properties like \fBos.version\fR and
\fBos.features\fR you need to add them in the OCI descriptor object encoded in JSON.

.EX
$ docker buildx imagetools inspect --raw alpine | jq '.manifests[0] | .platform."os.version"="10.1"' > descr.json
$ docker buildx imagetools create -f descr.json myuser/image

.EE

.PP
The descriptor in the file is merged with existing descriptor in the registry if it exists.

.PP
The supported fields for the descriptor are defined in OCI spec
\[la]https://github.com/opencontainers/image\-spec/blob/master/descriptor.md#properties\[ra] .

.SS Set reference for new image  (-t, --tag) {#tag}
.EX
-t IMAGE or --tag IMAGE

.EE

.PP
Use the \fB-t\fR or \fB--tag\fR flag to set the name of the image to be created.

.EX
$ docker buildx imagetools create --dry-run alpine@sha256:5c40b3c27b9f13c873fefb2139765c56ce97fd50230f1f2d5c91e55dec171907 sha256:c4ba6347b0e4258ce6a6de2401619316f982b7bcc529f73d2a410d0097730204
$ docker buildx imagetools create -t tonistiigi/myapp -f image1 -f image2

.EE

.PP
```


.SH SEE ALSO
.PP
\fBdocker-buildx-imagetools(1)\fP
